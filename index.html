<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>Instagram Filter Slide</title>
	<link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="page">
		<div class="wrapper">
			<div class="box-wrap" style="transform: translate(0)">
				<div class="box active">1
					<img src="images/car1.jpg">
				</div>
				<div class="box">2
					<img src="images/car2.jpg">
				</div>
				<div class="box">3
					<img src="images/car3.jpg">
				</div>
				<div class="box">4
					<img src="images/car4.jpg">
				</div>
				<div class="box">5
					<img src="images/car5.jpg">
				</div>
				<div class="box">6
					<img src="images/car6.jpg">
				</div>
				<div class="box">7
					<img src="images/car7.jpg">
				</div>
				<div class="box">2
					<img src="images/car2.jpg">
				</div>
				<div class="box">3
					<img src="images/car3.jpg">
				</div>
				<div class="box">4
					<img src="images/car4.jpg">
				</div>
				<div class="box">5
					<img src="images/car5.jpg">
				</div>
				<div class="box">6
					<img src="images/car6.jpg">
				</div>
				<div class="box">7
					<img src="images/car7.jpg">
				</div>
				<div class="box">2
					<img src="images/car2.jpg">
				</div>
				<div class="box">3
					<img src="images/car3.jpg">
				</div>
				<div class="box">4
					<img src="images/car4.jpg">
				</div>
				<div class="box">5
					<img src="images/car5.jpg">
				</div>
				<div class="box">6
					<img src="images/car6.jpg">
				</div>
				<div class="box">7
					<img src="images/car7.jpg">
				</div>
				<div class="box">2
					<img src="images/car2.jpg">
				</div>
				<div class="box">3
					<img src="images/car3.jpg">
				</div>
				<div class="box">4
					<img src="images/car4.jpg">
				</div>
				<div class="box">5
					<img src="images/car5.jpg">
				</div>
				<div class="box">6
					<img src="images/car6.jpg">
				</div>
				<div class="box">7
					<img src="images/car7.jpg">
				</div>
				<div class="box">2
					<img src="images/car2.jpg">
				</div>
				<div class="box">3
					<img src="images/car3.jpg">
				</div>
				<div class="box">4
					<img src="images/car4.jpg">
				</div>
				<div class="box">5
					<img src="images/car5.jpg">
				</div>
				<div class="box">6
					<img src="images/car6.jpg">
				</div>
				<div class="box">7
					<img src="images/car7.jpg">
				</div>
				<div class="box">2
					<img src="images/car2.jpg">
				</div>
				<div class="box">3
					<img src="images/car3.jpg">
				</div>
				<div class="box">4
					<img src="images/car4.jpg">
				</div>
				<div class="box">5
					<img src="images/car5.jpg">
				</div>
				<div class="box">6
					<img src="images/car6.jpg">
				</div>
				<div class="box">7
					<img src="images/car7.jpg">
				</div>
				<div class="box">2
					<img src="images/car2.jpg">
				</div>
				<div class="box">3
					<img src="images/car3.jpg">
				</div>
				<div class="box">4
					<img src="images/car4.jpg">
				</div>
				<div class="box">5
					<img src="images/car5.jpg">
				</div>
				<div class="box">6
					<img src="images/car6.jpg">
				</div>
				<div class="box">7
					<img src="images/car7.jpg">
				</div>
				<div class="box">2
					<img src="images/car2.jpg">
				</div>
				<div class="box">3
					<img src="images/car3.jpg">
				</div>
				<div class="box">4
					<img src="images/car4.jpg">
				</div>
				<div class="box">5
					<img src="images/car5.jpg">
				</div>
				<div class="box">6
					<img src="images/car6.jpg">
				</div>
				<div class="box">7
					<img src="images/car7.jpg">
				</div>
				<div class="box">2
					<img src="images/car2.jpg">
				</div>
				<div class="box">3
					<img src="images/car3.jpg">
				</div>
				<div class="box">4
					<img src="images/car4.jpg">
				</div>
				<div class="box">5
					<img src="images/car5.jpg">
				</div>
				<div class="box">6
					<img src="images/car6.jpg">
				</div>
				<div class="box">7
					<img src="images/car7.jpg">
				</div>
				<div class="box">2
					<img src="images/car2.jpg">
				</div>
				<div class="box">3
					<img src="images/car3.jpg">
				</div>
				<div class="box">4
					<img src="images/car4.jpg">
				</div>
				<div class="box">5
					<img src="images/car5.jpg">
				</div>
				<div class="box">6
					<img src="images/car6.jpg">
				</div>
				<div class="box">7
					<img src="images/car7.jpg">
				</div>
				<div class="box">2
					<img src="images/car2.jpg">
				</div>
				<div class="box">3
					<img src="images/car3.jpg">
				</div>
				<div class="box">4
					<img src="images/car4.jpg">
				</div>
				<div class="box">5
					<img src="images/car5.jpg">
				</div>
				<div class="box">6
					<img src="images/car6.jpg">
				</div>
				<div class="box">7
					<img src="images/car7.jpg">
				</div>
			</div>
		</div>
	</div>
	<script>
		var obj = {
			boxes : document.querySelectorAll('.box'),
			page : document.querySelector('.page'),
			boxWrap : document.querySelector('.box-wrap'),
			wrapper : document.querySelector('.wrapper'),
			activeBox : document.querySelector('.active'),
			boxWrapLeft : 0,
			init : function() {
				this.addSizes();
				this.boxLoop();
			},
			sizeCreate : function() {
				return { 
					pageWidth : this.page.offsetWidth,
					boxWidth : this.page.offsetWidth / 3.5
				}
			},
			addSizes : function() {
				this.boxWrap.style.width = this.boxes.length * (obj.page.offsetWidth / 3.5) + 'px';
				this.wrapper.style.height = this.sizeCreate().boxWidth + 'px';
			},
			boxLoop : function(){
				for (i = 0; i < this.boxes.length; i++) {
					var box = this.boxes[i];
					box.setAttribute('id', i+1);
					box.style.width = (obj.page.offsetWidth / 3.5) + 'px';

					box.onclick = function(){
						var thisId = this.getAttribute('id');
						var afterBox = document.getElementById(parseInt(thisId) + 1);
						var beforeBox = document.getElementById(parseInt(thisId) - 1);
						var thisRight =  (obj.wrapper.offsetLeft + obj.wrapper.offsetWidth) - (this.getBoundingClientRect().left + (obj.page.offsetWidth / 3.5)); // tıklanan kutunun sağa olan uzaklığı
						var thisLeft = this.getBoundingClientRect().left - obj.wrapper.offsetLeft; // tıklanan kutunun sola olan uzaklığı
						console.log(thisRight);
						console.log(thisRight.toFixed());
						if (parseInt(obj.activeBox.getAttribute('id')) < thisId) {
							console.log('aktifin sağına tıklandı');
							if (afterBox !== null) {
								if (thisRight < (obj.page.offsetWidth / 3.5)){
									if (thisRight.toFixed() < 0) {
										obj.boxWrap.style.transform = "translate(" + parseFloat(obj.boxWrapLeft - ((obj.page.offsetWidth / 3.5) + ((obj.page.offsetWidth / 3.5) / 2))) + "px)";
										obj.boxWrapLeft = obj.boxWrapLeft - ((obj.page.offsetWidth / 3.5) + (obj.page.offsetWidth / 3.5 / 2));
									}
									if (thisRight.toFixed() == 0) {
										obj.boxWrap.style.transform = "translate(" + parseFloat(obj.boxWrapLeft - (obj.page.offsetWidth / 3.5)) + "px)";
										obj.boxWrapLeft = obj.boxWrapLeft - (obj.page.offsetWidth / 3.5);
									}
									if (thisRight.toFixed() > 0) {
										obj.boxWrap.style.transform = "translate(" + parseFloat(obj.boxWrapLeft - ((obj.page.offsetWidth / 3.5) / 2)) + "px)";
										obj.boxWrapLeft = obj.boxWrapLeft - ((obj.page.offsetWidth / 3.5) / 2);
									}

									
								} else if (thisRight == (obj.page.offsetWidth / 3.5)){
									console.log('Sağda tam bir kutu var');
								} else {
									console.log('Sağda bir kutudan fazlası var');
								}
							}
							if (afterBox == null) {
								if (thisRight.toFixed() < 0) {
									obj.boxWrap.style.transform = "translate(" + parseFloat(obj.boxWrapLeft - ((obj.page.offsetWidth / 3.5) + (obj.page.offsetWidth / 3.5 / 2))) + "px)";
									obj.boxWrapLeft = obj.boxWrapLeft - ((obj.page.offsetWidth / 3.5) + (obj.page.offsetWidth / 3.5 / 2));
								}
							}

						}
						if (parseInt(obj.activeBox.getAttribute('id') == thisId)) {
							console.log('aktife tıklandı');
							
						}
						if (parseInt(obj.activeBox.getAttribute('id')) > thisId) {
							console.log('aktifin soluna tıklandı');
							
							if (beforeBox !== null) {
								if (thisLeft.toFixed() < 0) {
									obj.boxWrap.style.transform = "translate(" + parseFloat(obj.boxWrapLeft + (obj.page.offsetWidth / 3.5) + ((obj.page.offsetWidth / 3.5) / 2)) + "px)";
									obj.boxWrapLeft = obj.boxWrapLeft + (obj.page.offsetWidth / 3.5) + ((obj.page.offsetWidth / 3.5) / 2);
								}
								if (thisLeft.toFixed() == 0) {
									obj.boxWrap.style.transform = "translate(" + parseFloat(obj.boxWrapLeft + (obj.page.offsetWidth / 3.5)) + "px)";
									obj.boxWrapLeft = obj.boxWrapLeft + (obj.page.offsetWidth / 3.5);
								}
								if (thisLeft.toFixed() > 0) {
									obj.boxWrap.style.transform = "translate(" + parseFloat(obj.boxWrapLeft + (obj.page.offsetWidth / 3.5 / 2)) + "px)";
									obj.boxWrapLeft = obj.boxWrapLeft + (obj.page.offsetWidth / 3.5 / 2);
								}
							}
							if (beforeBox == null) {
								if (thisLeft.toFixed() < 0) {
									obj.boxWrap.style.transform = "translate(" + parseFloat(obj.boxWrapLeft + ((obj.page.offsetWidth / 3.5) / 2)) + "px)";
									obj.boxWrapLeft = obj.boxWrapLeft + ((obj.page.offsetWidth / 3.5) / 2);
								}								
							}
						}
						
						obj.activeBox.classList.remove('active');
						this.classList.add('active');
						obj.activeBox = document.querySelector('.active');
					}
				}
			}
			
		};
		obj.init();
		
	</script>
</body>
</html>
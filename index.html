<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>Instagram Filter Slide</title>
	<link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="instaSlide">
		<div class="wrapper">
			<div class="box-wrap" style="transform: translate(0)">
				<div class="box active">1
					<img src="images/car1.jpg">
				</div>
				<div class="box">2
					<img src="images/car2.jpg">
				</div>
				<div class="box">3
					<img src="images/car3.jpg">
				</div>
				<div class="box">4
					<img src="images/car4.jpg">
				</div>
				<div class="box">5
					<img src="images/car5.jpg">
				</div>
				<div class="box">6
					<img src="images/car6.jpg">
				</div>
				<div class="box">7
					<img src="images/car7.jpg">
				</div>
				<div class="box">2
					<img src="images/car2.jpg">
				</div>
				<div class="box">3
					<img src="images/car3.jpg">
				</div>
				<div class="box">4
					<img src="images/car4.jpg">
				</div>
				<div class="box">5
					<img src="images/car5.jpg">
				</div>
				<div class="box">6
					<img src="images/car6.jpg">
				</div>
				<div class="box">7
					<img src="images/car7.jpg">
				</div>
				<div class="box">2
					<img src="images/car2.jpg">
				</div>
				<div class="box">3
					<img src="images/car3.jpg">
				</div>
				<div class="box">4
					<img src="images/car4.jpg">
				</div>
				<div class="box">5
					<img src="images/car5.jpg">
				</div>
				<div class="box">6
					<img src="images/car6.jpg">
				</div>
				<div class="box">7
					<img src="images/car7.jpg">
				</div>
				<div class="box">2
					<img src="images/car2.jpg">
				</div>
				<div class="box">3
					<img src="images/car3.jpg">
				</div>
				<div class="box">4
					<img src="images/car4.jpg">
				</div>
				<div class="box">5
					<img src="images/car5.jpg">
				</div>
				<div class="box">6
					<img src="images/car6.jpg">
				</div>
				<div class="box">7
					<img src="images/car7.jpg">
				</div>
				<div class="box">2
					<img src="images/car2.jpg">
				</div>
				<div class="box">3
					<img src="images/car3.jpg">
				</div>
				<div class="box">4
					<img src="images/car4.jpg">
				</div>
				<div class="box">5
					<img src="images/car5.jpg">
				</div>
				<div class="box">6
					<img src="images/car6.jpg">
				</div>
				<div class="box">7
					<img src="images/car7.jpg">
				</div>
				<div class="box">2
					<img src="images/car2.jpg">
				</div>
				<div class="box">3
					<img src="images/car3.jpg">
				</div>
				<div class="box">4
					<img src="images/car4.jpg">
				</div>
				<div class="box">5
					<img src="images/car5.jpg">
				</div>
				<div class="box">6
					<img src="images/car6.jpg">
				</div>
				<div class="box">7
					<img src="images/car7.jpg">
				</div>
				<div class="box">2
					<img src="images/car2.jpg">
				</div>
				<div class="box">3
					<img src="images/car3.jpg">
				</div>
				<div class="box">4
					<img src="images/car4.jpg">
				</div>
				<div class="box">5
					<img src="images/car5.jpg">
				</div>
				<div class="box">6
					<img src="images/car6.jpg">
				</div>
				<div class="box">7
					<img src="images/car7.jpg">
				</div>
				<div class="box">2
					<img src="images/car2.jpg">
				</div>
				<div class="box">3
					<img src="images/car3.jpg">
				</div>
				<div class="box">4
					<img src="images/car4.jpg">
				</div>
				<div class="box">5
					<img src="images/car5.jpg">
				</div>
				<div class="box">6
					<img src="images/car6.jpg">
				</div>
				<div class="box">7
					<img src="images/car7.jpg">
				</div>
				<div class="box">2
					<img src="images/car2.jpg">
				</div>
				<div class="box">3
					<img src="images/car3.jpg">
				</div>
				<div class="box">4
					<img src="images/car4.jpg">
				</div>
				<div class="box">5
					<img src="images/car5.jpg">
				</div>
				<div class="box">6
					<img src="images/car6.jpg">
				</div>
				<div class="box">7
					<img src="images/car7.jpg">
				</div>
				<div class="box">2
					<img src="images/car2.jpg">
				</div>
				<div class="box">3
					<img src="images/car3.jpg">
				</div>
				<div class="box">4
					<img src="images/car4.jpg">
				</div>
				<div class="box">5
					<img src="images/car5.jpg">
				</div>
				<div class="box">6
					<img src="images/car6.jpg">
				</div>
				<div class="box">7
					<img src="images/car7.jpg">
				</div>
				<div class="box">2
					<img src="images/car2.jpg">
				</div>
				<div class="box">3
					<img src="images/car3.jpg">
				</div>
				<div class="box">4
					<img src="images/car4.jpg">
				</div>
				<div class="box">5
					<img src="images/car5.jpg">
				</div>
				<div class="box">6
					<img src="images/car6.jpg">
				</div>
				<div class="box">7
					<img src="images/car7.jpg">
				</div>
			</div>
		</div>
	</div>
	<script>
		var obj = {
			boxes : document.querySelectorAll('.box'),
			instaSlide : document.querySelector('#instaSlide'),
			boxWrap : document.querySelector('.box-wrap'),
			wrapper : document.querySelector('.wrapper'),
			activeBox : document.querySelector('.active'),
			boxWrapLeft : 0,
			init : function() {
				this.addSizes();
				this.boxLoop();
			},
			sizeCreate : function() {
				return { 
					instaSlideWidth : this.instaSlide.offsetWidth,
					boxWidth : this.instaSlide.offsetWidth / 3.5
				}
			},
			addSizes : function() {
				this.boxWrap.style.width = this.boxes.length * (obj.instaSlide.offsetWidth / 3.5) + 'px';
				this.wrapper.style.height = this.sizeCreate().boxWidth + 'px';
			},
			boxLoop : function(){
				for (i = 0; i < this.boxes.length; i++) {
					var box = this.boxes[i];
					box.setAttribute('id', i+1);
					box.style.width = (obj.instaSlide.offsetWidth / 3.5) + 'px';

					box.onclick = function(){
						var thisId = this.getAttribute('id');
						var afterBox = document.getElementById(parseInt(thisId) + 1);
						var beforeBox = document.getElementById(parseInt(thisId) - 1);
						var thisRight =  (obj.wrapper.offsetLeft + obj.wrapper.offsetWidth) - (this.getBoundingClientRect().left + (obj.instaSlide.offsetWidth / 3.5)); // tıklanan kutunun sağa olan uzaklığı
						var thisLeft = this.getBoundingClientRect().left - obj.wrapper.offsetLeft; // tıklanan kutunun sola olan uzaklığı
						console.log(thisLeft.toFixed(4));
						console.log(thisRight.toFixed(4));
						if (parseInt(obj.activeBox.getAttribute('id')) < thisId) { // aktifin sağına tıklanmışsa
							if (afterBox !== null) { // aktif klası en sağda değilse
								if (thisRight < (obj.instaSlide.offsetWidth / 3.5)){ // sağda bir kutudan az varsa
									if (thisRight.toFixed(4) < -0.5) {
										obj.boxWrap.style.transform = "translate(" + parseFloat(obj.boxWrapLeft - ((obj.instaSlide.offsetWidth / 3.5) + ((obj.instaSlide.offsetWidth / 3.5) / 2))) + "px)";
										obj.boxWrapLeft = obj.boxWrapLeft - ((obj.instaSlide.offsetWidth / 3.5) + (obj.instaSlide.offsetWidth / 3.5 / 2));
									}
									if (-0.5 < thisRight.toFixed(4) && thisRight.toFixed(4) < 0.5) {
										obj.boxWrap.style.transform = "translate(" + parseFloat(obj.boxWrapLeft - (obj.instaSlide.offsetWidth / 3.5)) + "px)";
										obj.boxWrapLeft = obj.boxWrapLeft - (obj.instaSlide.offsetWidth / 3.5);
									}
									if (thisRight.toFixed(4) > 0.5) {
										obj.boxWrap.style.transform = "translate(" + parseFloat(obj.boxWrapLeft - ((obj.instaSlide.offsetWidth / 3.5) / 2)) + "px)";
										obj.boxWrapLeft = obj.boxWrapLeft - ((obj.instaSlide.offsetWidth / 3.5) / 2);
									}
								}
							}
							if (afterBox == null) { // aktif klası en sağdaysa
								if (thisRight.toFixed(4) < -0.5) {
									obj.boxWrap.style.transform = "translate(" + parseFloat(obj.boxWrapLeft - ((obj.instaSlide.offsetWidth / 3.5) + (obj.instaSlide.offsetWidth / 3.5 / 2))) + "px)";
									obj.boxWrapLeft = obj.boxWrapLeft - ((obj.instaSlide.offsetWidth / 3.5) + (obj.instaSlide.offsetWidth / 3.5 / 2));
								}
							}
						}
						if (parseInt(obj.activeBox.getAttribute('id')) > thisId) { // aktifin soluna tıklanmışsa
							if (beforeBox !== null) {
								if (thisLeft.toFixed(4) < -0.5) {
									obj.boxWrap.style.transform = "translate(" + parseFloat(obj.boxWrapLeft + (obj.instaSlide.offsetWidth / 3.5) + ((obj.instaSlide.offsetWidth / 3.5) / 2)) + "px)";
									obj.boxWrapLeft = obj.boxWrapLeft + (obj.instaSlide.offsetWidth / 3.5) + ((obj.instaSlide.offsetWidth / 3.5) / 2);
								}
								if (-0.5 < thisLeft.toFixed(4) && thisLeft.toFixed(4) < 0.5) {
									obj.boxWrap.style.transform = "translate(" + parseFloat(obj.boxWrapLeft + (obj.instaSlide.offsetWidth / 3.5)) + "px)";
									obj.boxWrapLeft = obj.boxWrapLeft + (obj.instaSlide.offsetWidth / 3.5);
								}
								if (thisLeft.toFixed(4) > 0.5) {
									obj.boxWrap.style.transform = "translate(" + parseFloat(obj.boxWrapLeft + (obj.instaSlide.offsetWidth / 3.5 / 2)) + "px)";
									obj.boxWrapLeft = obj.boxWrapLeft + (obj.instaSlide.offsetWidth / 3.5 / 2);
								}
							}
							if (beforeBox == null) {
								if (thisLeft.toFixed(4) < -0.5) {
									obj.boxWrap.style.transform = "translate(" + parseFloat(obj.boxWrapLeft + ((obj.instaSlide.offsetWidth / 3.5) / 2)) + "px)";
									obj.boxWrapLeft = obj.boxWrapLeft + ((obj.instaSlide.offsetWidth / 3.5) / 2);
								}								
							}
						}
						obj.activeBox.classList.remove('active');
						this.classList.add('active');
						obj.activeBox = document.querySelector('.active');
					}
				}
			}
		};
		obj.init();
	</script>
</body>
</html>